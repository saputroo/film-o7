<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="watch-title">Tonton Film | FILM07</title>
    <link rel="stylesheet" href="style.css"> 
    <style>
        /* Gaya Khusus untuk Halaman Tontonan */
        .video-container {
            max-width: 900px;
            margin: 40px auto 20px auto;
            background-color: #1f1f1f;
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7);
            overflow: hidden;
        }
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* Rasio 16:9 */
            height: 0;
            overflow: hidden;
            border-bottom: 3px solid #E50914;
        }
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .movie-details {
            padding: 25px;
        }
        .movie-details h2 {
            color: #E50914;
            margin-bottom: 10px;
        }
        .movie-details p {
            margin-bottom: 8px;
        }
        .locked-message {
            text-align: center;
            padding: 50px;
            font-size: 1.2em;
            color: #E50914;
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">FILM07</div>
        <nav>
            <a href="index.html">Beranda</a>
            <a href="#">Film Terbaru</a>
            <a href="#">Serial TV</a>
            <a href="auth.html" class="auth-link">Akun</a>
            <button id="theme-toggle">☀️ Mode Terang</button>
        </nav>
    </header>

    <main class="container">
        <div id="content-area">
            </div>
    </main>

    <footer>
        <p>&copy; 2025 FILM07. Demo Tontonan.</p>
    </footer>
    
    <script src="script.js"></script>
    <script>
        // Logika Khusus untuk halaman watch.html
        document.addEventListener('DOMContentLoaded', function() {
            const contentArea = document.getElementById('content-area');
            const urlParams = new URLSearchParams(window.location.search);
            const movieId = urlParams.get('id');
            const users = loadUsers();
            const isLoggedIn = users.some(user => user.isLoggedIn);
            
            // Data Film (Contoh)
            const movieData = {
                'thebatman': {
                    title: 'The Batman (2022)',
                    embedUrl: 'https://www.youtube.com/embed/mqqft2x_Aa4', // Trailer The Batman
                    sinopsis: 'Setelah dua tahun, Batman berhadapan dengan The Riddler, seorang pembunuh berantai sadis.',
                    genre: 'Aksi, Kriminal, Drama',
                    rating: '8.7/10'
                },
                'inception': {
                    title: 'Inception (2010)',
                    embedUrl: 'https://www.youtube.com/embed/YoHD9XEInc0', // Trailer Inception
                    sinopsis: 'Pencuri ulung yang mencuri rahasia perusahaan melalui teknologi berbagi mimpi.',
                    genre: 'Sci-Fi, Aksi, Petualangan',
                    rating: '8.8/10'
                },
                // Tambahkan film lain di sini
            };
            
            const film = movieData[movieId];

            if (!isLoggedIn) {
                // Tampilkan pesan jika belum login
                contentArea.innerHTML = `
                    <div class="locked-message">
                        <h2>⚠️ Konten Terkunci</h2>
                        <p>Silakan <a href="auth.html">Masuk atau Daftar</a> untuk dapat menonton film ini.</p>
                    </div>
                `;
            } else if (film) {
                // Tampilkan film jika sudah login
                document.getElementById('watch-title').textContent = `Tonton: ${film.title} | FILM07`;
                contentArea.innerHTML = `
                    <div class="video-container">
                        <div class="video-wrapper">
                            <iframe 
                                src="${film.embedUrl}" 
                                frameborder="0" 
                                allow="autoplay; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen>
                            </iframe>
                        </div>
                        
                        <div class="movie-details">
                            <h2>${film.title}</h2>
                            <p><strong>Rating:</strong> ${film.rating}</p>
                            <p><strong>Genre:</strong> ${film.genre}</p>
                            <p><strong>Sinopsis:</strong> ${film.sinopsis}</p>
                        </div>
                    </div>
                `;
            } else {
                // Film tidak ditemukan
                contentArea.innerHTML = `
                    <div class="locked-message">
                        <h2>Film Tidak Ditemukan</h2>
                        <p>Film dengan ID "${movieId}" tidak tersedia di daftar kami.</p>
                        <a href="index.html">Kembali ke Beranda</a>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>